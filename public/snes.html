<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>SNES.EXE</title>
  <style>
    html, body, #emu {
      margin: 0; padding: 0;
      width: 100%; height: 100%;
      background: black;
      display: flex; flex-direction: column;
    }
    #menu {
      background: rgba(0,0,0,0.9);
      padding: 0.5rem;
      font-family: 'Press Start 2P', monospace;
      color: #00f0ff; /* neon-cyan */
      display: flex; flex-wrap: wrap; gap: 0.5rem;
    }
    #menu button {
      background: transparent;
      border: 2px solid #a9a1ff; /* neon-purple */
      padding: 0.4rem 0.8rem;
      cursor: pointer;
      color: #a9a1ff;
      font-size: 0.7rem;
    }
    #emu { flex: 1; }
  </style>

  <!-- EmulatorJS core -->
  <script src="https://cdn.jsdelivr.net/npm/emulatorjs@1.9.3/dist/emu.min.js"></script>
</head>
<body>
  <!-- Game selector bar -->
  <div id="menu"></div>
  <!-- SNES canvas/container -->
  <div id="emu"></div>

  <script>
    // Your SNES ROM catalog
    const games = {
      "New Horizons (USA)": "https://cdn.glitch.global/09e9ba26-fd4e-41f2-88c1-651c3d32a01a/New%20Horizons%20(USA).sfc?v=1746467603953",
      "Shadowrun (USA)"     : "https://cdn.glitch.global/09e9ba26-fd4e-41f2-88c1-651c3d32a01a/Shadowrun%20(USA).sfc?v=1746468888283"
      // â† add more "Label": "URL" entries here
    };

    const menuEl = document.getElementById("menu");
    const emuEl  = document.getElementById("emu");
    let instance = null;

    // Build a button for each ROM
    Object.entries(games).forEach(([label, url]) => {
      const btn = document.createElement("button");
      btn.textContent = label;
      btn.onclick = () => launchROM(url);
      menuEl.appendChild(btn);
    });

    // (Re)instantiate the emulator with a given ROM
    function launchROM(romUrl) {
      emuEl.innerHTML = "";  // clear previous
      instance = new EmulatorJS({
        element: emuEl,
        system:  "snes",
        rom:      romUrl,
        onStart:  () => console.log("Loaded SNES ROM:", romUrl),
        onError:  e => console.error("EmulatorJS error:", e)
      });
    }

    // Auto-launch first game on load
    window.addEventListener("DOMContentLoaded", () => {
      const first = Object.values(games)[0];
      if (first) launchROM(first);
    });
  </script>
</body>
</html>
